# AI Diet - –ò–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–∞ –•—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∞ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞

–ú–æ–¥–µ—Ä–Ω–∞ —É–µ–± –∞–ø–ª–∏–∫–∞—Ü–∏—è –∑–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –ø–ª–∞–Ω–æ–≤–µ —á—Ä–µ–∑ –∏–∑–∫—É—Å—Ç–≤–µ–Ω –∏–Ω—Ç–µ–ª–µ–∫—Ç.

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏

### 1. –í—ä–ø—Ä–æ—Å–Ω–∏–∫ –∑–∞ –ü—Ä–æ—Ñ–∏–ª–∏—Ä–∞–Ω–µ
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–µ–Ω –≤—ä–ø—Ä–æ—Å–Ω–∏–∫ —Å –Ω–∞–¥ 30+ —Ñ–∞–∫—Ç–æ—Ä–∞
- –î–∏–Ω–∞–º–∏—á–Ω–æ —Ä–∞–∑–∫–ª–æ–Ω–µ–Ω–∏–µ –Ω–∞ –≤—ä–ø—Ä–æ—Å–∏ (conditional logic)
- –ú–æ–¥–µ—Ä–µ–Ω mobile-first –¥–∏–∑–∞–π–Ω
- –ü—Ä–æ–≥—Ä–µ—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏

### 2. AI –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –•—Ä–∞–Ω–∏—Ç–µ–ª–µ–Ω –ü–ª–∞–Ω
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω 7-–¥–Ω–µ–≤–µ–Ω –ø–ª–∞–Ω
- –ê–Ω–∞–ª–∏–∑ –Ω–∞ –±–∞–∑–æ–≤ –º–µ—Ç–∞–±–æ–ª–∏–∑—ä–º (BMR)
- –ú–∞–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç–∏ (–ø—Ä–æ—Ç–µ–∏–Ω–∏, –≤—ä–≥–ª–µ—Ö–∏–¥—Ä–∞—Ç–∏, –º–∞–∑–Ω–∏–Ω–∏)
- 3-5 —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ –¥–µ–Ω —Å –¥–µ—Ç–∞–π–ª–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –ü—Ä–µ–ø–æ—Ä—ä–∫–∏ –∏ –∑–∞–±—Ä–∞–Ω–µ–Ω–∏ —Ö—Ä–∞–Ω–∏
- –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ —Å—ä–≤–µ—Ç–∏

### 3. AI –ß–∞—Ç –ê—Å–∏—Å—Ç–µ–Ω—Ç
- –ò–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–µ–Ω –¥–∏–∞–ª–æ–≥ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ü–æ–∑–Ω–∞–≤–∞ –ø—Ä–æ—Ñ–∏–ª–∞ –∏ –ø–ª–∞–Ω–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞
- –†–æ–ª—è –Ω–∞ –¥–∏–µ—Ç–æ–ª–æ–≥, –ø—Å–∏—Ö–æ–ª–æ–≥ –∏ –∑–¥—Ä–∞–≤–µ–Ω –∞—Å–∏—Å—Ç–µ–Ω—Ç
- –ò—Å—Ç–æ—Ä–∏—è –Ω–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- Real-time –æ—Ç–≥–æ–≤–æ—Ä–∏

### 4. –ö–µ—à–∏—Ä–∞–Ω–µ –∏ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- Cloudflare KV storage –∑–∞ –±—ä—Ä–∑–æ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
- –ú–∏–Ω–∏–º–∞–ª–Ω–æ –Ω–∞—Ç–æ–≤–∞—Ä–≤–∞–Ω–µ –Ω–∞ backend
- –ö–µ—à –Ω–∞ –ø–ª–∞–Ω–æ–≤–µ (7 –¥–Ω–∏)
- –ö–µ—à –Ω–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∏ (24 —á–∞—Å–∞)
- localStorage –∑–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏ –¥–∞–Ω–Ω–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ
‚îÇ  (HTML/JS/CSS)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ HTTPS
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Cloudflare Worker   ‚îÇ
‚îÇ  (worker.js)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚ñ∫ KV Storage (Cache)
         ‚îÇ
         ‚îî‚îÄ‚îÄ‚ñ∫ AI Model (OpenAI/Gemini)
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
aidiet/
‚îú‚îÄ‚îÄ index.html              # –ì–ª–∞–≤–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ questionnaire.html      # –í—ä–ø—Ä–æ—Å–Ω–∏–∫
‚îú‚îÄ‚îÄ plan.html              # –•—Ä–∞–Ω–∏—Ç–µ–ª–µ–Ω –ø–ª–∞–Ω + —á–∞—Ç
‚îú‚îÄ‚îÄ sample.json            # –ü—Ä–∏–º–µ—Ä–µ–Ω JSON —Ñ–æ—Ä–º–∞—Ç
‚îú‚îÄ‚îÄ worker.js              # Cloudflare Worker backend
‚îú‚îÄ‚îÄ wrangler.toml          # Worker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ WORKER_README.md       # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∑–∞ deployment
‚îú‚îÄ‚îÄ .gitignore            # Git ignore rules
‚îî‚îÄ‚îÄ README.md             # –¢–æ–∑–∏ —Ñ–∞–π–ª
```

## üöÄ –ò–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –∏ Deployment

### –õ–æ–∫–∞–ª–Ω–∞ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –ö–ª–æ–Ω–∏—Ä–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ç–∞:
```bash
git clone https://github.com/Radilovk/aidiet.git
cd aidiet
```

2. –û—Ç–≤–æ—Ä–µ—Ç–µ HTML —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤ –±—Ä–∞—É–∑—ä—Ä –∏–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –ª–æ–∫–∞–ª–µ–Ω —Å—ä—Ä–≤—ä—Ä:
```bash
# –° Python
python -m http.server 8000

# –° Node.js (http-server)
npx http-server -p 8000
```

3. –û—Ç–≤–æ—Ä–µ—Ç–µ `http://localhost:8000` –≤ –±—Ä–∞—É–∑—ä—Ä

### Cloudflare Worker Deployment

–í–∏–∂—Ç–µ [WORKER_README.md](./WORKER_README.md) –∑–∞ –ø–æ–¥—Ä–æ–±–Ω–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

–ö—Ä–∞—Ç–∫–æ:
```bash
# –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ Wrangler
npm install -g wrangler

# Login
wrangler login

# –°—ä–∑–¥–∞–π—Ç–µ KV namespace
wrangler kv:namespace create "page_content"

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–π—Ç–µ API –∫–ª—é—á
wrangler secret put OPENAI_API_KEY
# –∏–ª–∏
wrangler secret put GEMINI_API_KEY

# Deploy
wrangler deploy
```

## üîë KV Storage –°—Ç—Ä—É–∫—Ç—É—Ä–∞

Worker –∏–∑–ø–æ–ª–∑–≤–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ KV –∫–ª—é—á–æ–≤–µ:

| –ö–ª—é—á | –û–ø–∏—Å–∞–Ω–∏–µ | TTL |
|------|----------|-----|
| `plan_{userId}` | –•—Ä–∞–Ω–∏—Ç–µ–ª–µ–Ω –ø–ª–∞–Ω | 7 –¥–Ω–∏ |
| `user_{userId}` | –î–∞–Ω–Ω–∏ –æ—Ç –≤—ä–ø—Ä–æ—Å–Ω–∏–∫ | 7 –¥–Ω–∏ |
| `chat_{userId}_{convId}` | –ò—Å—Ç–æ—Ä–∏—è –Ω–∞ —á–∞—Ç | 24 —á–∞—Å–∞ |

## üîß API Endpoints

### POST /api/generate-plan
–ì–µ–Ω–µ—Ä–∏—Ä–∞ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–µ–Ω –ø–ª–∞–Ω –æ—Ç –¥–∞–Ω–Ω–∏ –Ω–∞ –≤—ä–ø—Ä–æ—Å–Ω–∏–∫–∞.

**Request Body:**
```json
{
  "name": "–ò–≤–∞–Ω",
  "age": 30,
  "weight": 85,
  "height": 180,
  "goal": "–û—Ç—Å–ª–∞–±–≤–∞–Ω–µ",
  ...
}
```

**Response:**
```json
{
  "success": true,
  "plan": { ... },
  "userId": "unique_id",
  "cached": false
}
```

### POST /api/chat
–ß–∞—Ç —Å AI –∞—Å–∏—Å—Ç–µ–Ω—Ç.

**Request Body:**
```json
{
  "userId": "unique_id",
  "message": "–ú–æ–∂–µ –ª–∏ –¥–∞ —è–º –±–∞–Ω–∞–Ω–∏?",
  "conversationId": "optional"
}
```

**Response:**
```json
{
  "success": true,
  "response": "AI –æ—Ç–≥–æ–≤–æ—Ä..."
}
```

### GET /api/get-plan?userId=xxx
–ò–∑–≤–ª–∏—á–∞ –∫–µ—à–∏—Ä–∞–Ω –ø–ª–∞–Ω.

## ü§ñ AI –ú–æ–¥–µ–ª–∏

Worker –ø–æ–¥–¥—ä—Ä–∂–∞ –¥–≤–∞ AI –º–æ–¥–µ–ª–∞ (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–∏ —á—Ä–µ–∑ environment variables):

- **OpenAI GPT-4o-mini** - –ó–∞ –≤–∏—Å–æ–∫–æ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –æ—Ç–≥–æ–≤–æ—Ä–∏—Ç–µ
- **Google Gemini Pro** - –ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–π—Ç–µ —Å:
```bash
wrangler secret put OPENAI_API_KEY
# –∏–ª–∏
wrangler secret put GEMINI_API_KEY
```

## üì± Frontend –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏

### index.html
- Hero —Å–µ–∫—Ü–∏—è —Å –∞–Ω–∏–º–∞—Ü–∏–∏
- Feature –∫–∞—Ä—Ç–∏
- Call-to-action –±—É—Ç–æ–Ω–∏
- Mobile responsive –¥–∏–∑–∞–π–Ω

### questionnaire.html
- 30+ –≤—ä–ø—Ä–æ—Å–∞ –≤ 6 —Å–µ–∫—Ü–∏–∏
- –î–∏–Ω–∞–º–∏—á–Ω–∏ –ø–æ–¥–≤—ä–ø—Ä–æ—Å–∏
- –ü—Ä–æ–≥—Ä–µ—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –≤—Ö–æ–¥–Ω–∏ –¥–∞–Ω–Ω–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –∫—ä–º backend
- –°—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage

### plan.html
- 7-–¥–Ω–µ–≤–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è (chips)
- –î–µ—Ç–∞–π–ª–Ω–∏ meal –∫–∞—Ä—Ç–∏
- Accordion —Å–µ–∫—Ü–∏–∏ (–ø—Ä–µ–ø–æ—Ä—ä–∫–∏, –∑–∞–±—Ä–∞–Ω–µ–Ω–∏ —Ö—Ä–∞–Ω–∏, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è)
- Info modals –∑–∞ –≤—Å—è–∫–æ —è—Å—Ç–∏–µ
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–∞–Ω AI —á–∞—Ç –ø—Ä–æ–∑–æ—Ä–µ—Ü
- Real-time –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è —Å backend

## üé® –î–∏–∑–∞–π–Ω

- **–¶–≤–µ—Ç–æ–≤–∞ –ø–∞–ª–∏—Ç—Ä–∞:**
  - Primary Red: `#e74c3c`
  - Soft Red: `#fadbd8`
  - Text Dark: `#2c3e50`
  - Background: `#f8f9fa`

- **Fonts:** Poppins (landing), Segoe UI (app)
- **Icons:** Font Awesome 6
- **Responsive:** Mobile-first approach

## üîí –°–∏–≥—É—Ä–Ω–æ—Å—Ç

- CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω
- Input validation
- XSS protection (escapeHtml)
- No sensitive data in localStorage
- API keys –≤ environment variables

## üìä Data Flow

1. **–í—ä–ø—Ä–æ—Å–Ω–∏–∫ ‚Üí Backend:**
   ```
   questionnaire.html ‚Üí POST /api/generate-plan ‚Üí Worker ‚Üí AI Model ‚Üí KV Cache ‚Üí Response
   ```

2. **Backend ‚Üí Plan Page:**
   ```
   Worker Response ‚Üí localStorage ‚Üí plan.html ‚Üí Render UI
   ```

3. **Chat:**
   ```
   User Message ‚Üí POST /api/chat ‚Üí Worker (with context) ‚Üí AI Model ‚Üí Response ‚Üí UI
   ```

## üß™ –¢–µ—Å—Ç–≤–∞–Ω–µ

### –õ–æ–∫–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ Worker:
```bash
wrangler dev
```

### Mock –¥–∞–Ω–Ω–∏:
Worker –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Ä—ä—â–∞ mock –¥–∞–Ω–Ω–∏ –∫–æ–≥–∞—Ç–æ –Ω—è–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω API –∫–ª—é—á.

## üìù TODO / –ë—ä–¥–µ—â–∏ –ü–æ–¥–æ–±—Ä–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- [ ] Persistent storage (–±–∞–∑–∞ –¥–∞–Ω–Ω–∏)
- [ ] Email –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] PDF –µ–∫—Å–ø–æ—Ä—Ç –Ω–∞ –ø–ª–∞–Ω–æ–≤–µ
- [ ] –ö–∞–ª–æ—Ä–∏–∏ –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä
- [ ] Grocery list generator
- [ ] Progress tracking
- [ ] Multi-language support

## ü§ù –ü—Ä–∏–Ω–æ—Å

–ó–∞ –¥–∞ –¥–æ–ø—Ä–∏–Ω–µ—Å–µ—Ç–µ:

1. Fork –ø—Ä–æ–µ–∫—Ç–∞
2. –°—ä–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –ø—Ä–æ–º–µ–Ω–∏—Ç–µ (`git commit -m 'Add some AmazingFeature'`)
4. Push –∫—ä–º branch (`git push origin feature/AmazingFeature`)
5. –û—Ç–≤–æ—Ä–µ—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑

–¢–æ–∑–∏ –ø—Ä–æ–µ–∫—Ç –µ —Å –æ—Ç–≤–æ—Ä–µ–Ω –∫–æ–¥ –∑–∞ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–Ω–∏ —Ü–µ–ª–∏.

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

Radilov-K - [GitHub](https://github.com/Radilovk)

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- Font Awesome –∑–∞ –∏–∫–æ–Ω–∏—Ç–µ
- Google Fonts –∑–∞ —à—Ä–∏—Ñ—Ç–æ–≤–µ—Ç–µ
- Cloudflare –∑–∞ Workers –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ç–∞
- OpenAI/Google –∑–∞ AI –º–æ–¥–µ–ª–∏—Ç–µ
