# –û–¢–ì–û–í–û–†: –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Default Prompts –ø—Ä–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ worker.js

## –í—ä–ø—Ä–æ—Å –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è
> "—Å–µ–≥–∞ –ø—Ä–∏ –µ–≤–µ–Ω—Ç—É–∞–ª–Ω–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ worker.js –∏ –ø—Ä–æ–º–ø—Ç–æ–≤–µ—Ç–µ –≤—ä—Ç—Ä–µ, —â–µ —Å–µ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞ –ª–∏ –ø—Ä–∏ –∫–ª–∏–∫–≤–∞–Ω–µ –Ω–∞ 'viewDefaultPrompt' –±—É—Ç–æ–Ω–∞ –∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∞"

---

## üéØ –ö–†–ê–¢–™–ö –û–¢–ì–û–í–û–†

# ‚úÖ –î–ê!

**–ü—Ä–æ–º–ø—Ç–æ–≤–µ—Ç–µ –°–ï –ê–ö–¢–£–ê–õ–ò–ó–ò–†–ê–¢ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–ª–µ–¥ `wrangler deploy`**

–ö–æ–≥–∞—Ç–æ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ worker.js –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ deploy, –Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–º–ø—Ç–∏ –≤–µ–¥–Ω–∞–≥–∞ —Å—Ç–∞–≤–∞—Ç –¥–æ—Å—Ç—ä–ø–Ω–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∞ —á—Ä–µ–∑ –±—É—Ç–æ–Ω–∞ "–í–∏–∂ –°—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω –ü—Ä–æ–º–ø—Ç".

---

## üìñ –ü–™–õ–ù–û –û–ë–Ø–°–ù–ï–ù–ò–ï

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. Admin Panel (Browser)                        ‚îÇ
‚îÇ    - User clicks "–í–∏–∂ –°—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω –ü—Ä–æ–º–ø—Ç"        ‚îÇ
‚îÇ    - JavaScript calls API                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
                 ‚îÇ HTTPS GET Request
                 ‚îÇ /api/admin/get-default-prompt?type=analysis
                 ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. Cloudflare Worker (Production)               ‚îÇ
‚îÇ    - Receives request                           ‚îÇ
‚îÇ    - Executes handleGetDefaultPrompt()          ‚îÇ
‚îÇ    - Returns defaultPrompts[type]               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
                 ‚îÇ JSON Response
                 ‚îÇ { "success": true, "prompt": "..." }
                 ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. Admin Panel (Browser)                        ‚îÇ
‚îÇ    - Receives prompt                            ‚îÇ
‚îÇ    - Displays in textarea                       ‚îÇ
‚îÇ    - User can view/edit                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö—ä–¥–µ —Å–∞ –ø—Ä–æ–º–ø—Ç–∏—Ç–µ?

–ü—Ä–æ–º–ø—Ç–∏—Ç–µ —Å–∞ **hardcoded** –≤ worker.js –Ω–∞ –ª–∏–Ω–∏–∏ **4447-5048**:

```javascript
const defaultPrompts = {
  analysis: `–¢–∏ —Å–∏ –µ–∫—Å–ø–µ—Ä—Ç–µ–Ω –¥–∏–µ—Ç–æ–ª–æ–≥...`,      // 159 —Ä–µ–¥–∞, 7424 —Å–∏–º–≤–æ–ª–∞
  strategy: `–ë–∞–∑–∏—Ä–∞–π–∫–∏ —Å–µ –Ω–∞ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏—è...`,  // 130 —Ä–µ–¥–∞, 9398 —Å–∏–º–≤–æ–ª–∞
  meal_plan: `–¢–∏ –¥–µ–π—Å—Ç–≤–∞—à –∫–∞—Ç–æ ADLE...`,        // 235 —Ä–µ–¥–∞, 11605 —Å–∏–º–≤–æ–ª–∞
  summary: `–°—ä–∑–¥–∞–π summary...`,                  // 29 —Ä–µ–¥–∞, 1147 —Å–∏–º–≤–æ–ª–∞
  consultation: `–¢–ï–ö–£–© –†–ï–ñ–ò–ú: –ö–û–ù–°–£–õ–¢–ê–¶–ò–Ø...`,   // 14 —Ä–µ–¥–∞, 693 —Å–∏–º–≤–æ–ª–∞
  modification: `–¢–ï–ö–£–© –†–ï–ñ–ò–ú: –ü–†–û–ú–Ø–ù–ê...`        // 80 —Ä–µ–¥–∞, 3261 —Å–∏–º–≤–æ–ª–∞
};
```

**–í–∞–∂–Ω–æ:** –¢–µ–∑–∏ –ø—Ä–æ–º–ø—Ç–∏ —Å–∞ —á–∞—Å—Ç –æ—Ç **JavaScript –∫–æ–¥–∞**, –Ω–µ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç –≤ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ –∏–ª–∏ –æ—Ç–¥–µ–ª–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ.

---

## üöÄ –ü–†–û–¶–ï–° –ù–ê –ê–ö–¢–£–ê–õ–ò–ó–ê–¶–ò–Ø

### –°—Ç—ä–ø–∫–∞ 1: –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ worker.js
```bash
# –û—Ç–≤–æ—Ä–∏ worker.js –∏ –Ω–∞–º–µ—Ä–∏ –ª–∏–Ω–∏—è 4448 (–∏–ª–∏ –¥—Ä—É–≥–∞ –∑–∞ —Ä–∞–∑–ª–∏—á–µ–Ω –ø—Ä–æ–º–ø—Ç)
vim worker.js

# –ü—Ä–æ–º–µ–Ω–∏ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –ø—Ä–æ–º–ø—Ç–∞
# –ù–∞–ø—Ä–∏–º–µ—Ä: –î–æ–±–∞–≤–∏ –Ω–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ analysis –ø—Ä–æ–º–ø—Ç–∞
```

### –°—Ç—ä–ø–∫–∞ 2: –í–∞–ª–∏–¥–∞—Ü–∏—è (–û–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ)
```bash
# –ü—Ä–æ–≤–µ—Ä–∏ JavaScript —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
node --check worker.js

# –¢–µ—Å—Ç–≤–∞–π –ª–æ–∫–∞–ª–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ)
wrangler dev
# Test: http://localhost:8787/api/admin/get-default-prompt?type=analysis
```

### –°—Ç—ä–ø–∫–∞ 3: Deploy –≤ Production
```bash
# Deploy –∫—ä–º Cloudflare
wrangler deploy
```

**–û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç:**
```
‚è±Ô∏è  Total Upload: ~127 KB
üöÄ Uploaded aidiet-worker (1.23 sec)
‚úÖ Published aidiet-worker (0.45 sec)
   https://aidiet.radilov-k.workers.dev
```

### –°—Ç—ä–ø–∫–∞ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –û–ø—Ü–∏—è 1: –û—Ç –∫–æ–º–∞–Ω–¥–Ω–∞ –ª–∏–Ω–∏—è
curl https://aidiet.radilov-k.workers.dev/api/admin/get-default-prompt?type=analysis

# –û–ø—Ü–∏—è 2: –í Admin Panel
# Open https://radilov-k.github.io/aidiet/admin.html
# Click "–í–∏–∂ –°—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω –ü—Ä–æ–º–ø—Ç"
# ‚úÖ –ù–æ–≤–∏—è—Ç –ø—Ä–æ–º–ø—Ç —Å–µ –ø–æ–∫–∞–∑–≤–∞ –≤–µ–¥–Ω–∞–≥–∞!
```

---

## ‚è±Ô∏è –í–†–ï–ú–ï–í–ê –õ–ò–ù–ò–Ø

```
t = 0s       Edit worker.js
             ‚îî‚îÄ –ü—Ä–æ–º—è–Ω–∞—Ç–∞ –µ –°–ê–ú–û –ª–æ–∫–∞–ª–Ω–∞

t = +10s     wrangler deploy
             ‚îú‚îÄ Upload (5s)
             ‚îú‚îÄ Validation (2s)
             ‚îî‚îÄ Compilation (3s)

t = +40s     Distribution
             ‚îî‚îÄ Cloudflare Edge Network (30s)

t = +45s     ‚úÖ LIVE in production
             ‚îî‚îÄ All users see new version

t = +50s     Click "View Default Prompt"
             ‚îî‚îÄ New prompt appears immediately
```

**Total time: ~1 –º–∏–Ω—É—Ç–∞ –æ—Ç —Ä–µ–¥–∞–∫—Ü–∏—è –¥–æ –ø—É–±–ª–∏–∫—É–≤–∞–Ω–µ**

---

## üîç –ó–ê–©–û –†–ê–ë–û–¢–ò –¢–ê–ö–ê?

### 1. Cloudflare Workers —Å–∞ **Stateless**
- –í—Å—è–∫–∞ –∑–∞—è–≤–∫–∞ –∏–∑–ø—ä–ª–Ω—è–≤–∞ **fresh code**
- –ù—è–º–∞ persistent state –º–µ–∂–¥—É –∑–∞—è–≤–∫–∏
- –ù—è–º–∞ in-memory cache

### 2. –ü—Ä–æ–º–ø—Ç–∏—Ç–µ —Å–∞ **–≤ –∫–æ–¥–∞**
- –ù–µ —Å–µ —á–µ—Ç–∞—Ç –æ—Ç –±–∞–∑–∞ –¥–∞–Ω–Ω–∏
- –ù–µ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç –æ—Ç —Ñ–∞–π–ª–æ–≤–µ
- –î–∏—Ä–µ–∫—Ç–µ–Ω –¥–æ—Å—Ç—ä–ø –≤ –ø–∞–º–µ—Ç—Ç–∞

### 3. Deploy = Instant Update
- Cloudflare —Ä–∞–∑–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–≤–∞ –Ω–æ–≤–∏—è –∫–æ–¥ globally
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ update –Ω–∞ –≤—Å–∏—á–∫–∏ edge locations
- Zero downtime deployment

### 4. No Caching
- –ü—Ä–æ–º–ø—Ç–∏—Ç–µ –Ω–µ —Å–µ –∫–µ—à–∏—Ä–∞—Ç
- –í—Å—è–∫–∞ –∑–∞—è–≤–∫–∞ –≤—Ä—ä—â–∞ —Ç–µ–∫—É—â–∞—Ç–∞ –≤–µ—Ä—Å–∏—è
- –ù—è–º–∞ –Ω—É–∂–¥–∞ –æ—Ç cache invalidation

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï: Custom vs Default Prompts

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Custom Prompts | Default Prompts |
|----------------|----------------|-----------------|
| **–°—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ** | KV Storage (database) | worker.js code |
| **–ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è** | –ß—Ä–µ–∑ Admin Panel (Save button) | –ß—Ä–µ–∑ wrangler deploy |
| **–°–∫–æ—Ä–æ—Å—Ç –Ω–∞ update** | Instant (API call) | 1 minute (deploy) |
| **Persistence** | Permanent (–≤ KV) | Until next deploy |
| **Fallback** | Default prompts | (None - is the fallback) |
| **–í–∏–¥–∏–º–æ—Å—Ç** | "View Custom Prompt" | "View Default Prompt" |

---

## ‚úÖ –ö–ê–ö–í–û –†–ê–ë–û–¢–ò

### –î–ê - –¢–µ–∑–∏ –Ω–µ—â–∞ —Ä–∞–±–æ—Ç—è—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:

1. ‚úÖ **Edit worker.js ‚Üí Deploy ‚Üí Click button ‚Üí See new prompt**
2. ‚úÖ **Multiple edits ‚Üí Single deploy ‚Üí All prompts updated**
3. ‚úÖ **Deploy once ‚Üí All users see changes**
4. ‚úÖ **No cache clearing needed**
5. ‚úÖ **No browser refresh needed** (just click button again)
6. ‚úÖ **Works for all 6 prompt types**

---

## ‚ùå –ö–ê–ö–í–û –ù–ï –†–ê–ë–û–¢–ò

### –ù–ï - –¢–µ–∑–∏ –Ω–µ—â–∞ –ù–ï —Ä–∞–±–æ—Ç—è—Ç:

1. ‚ùå **Edit worker.js ‚Üí No deploy ‚Üí Expect changes** (changes are local only)
2. ‚ùå **Deploy ‚Üí Expect instant update** (wait 5-30 seconds)
3. ‚ùå **Edit on different machine ‚Üí Expect sync** (git push ‚â† deploy)
4. ‚ùå **Edit admin.html ‚Üí Expect prompt change** (prompts are in worker.js)
5. ‚ùå **Clear browser cache ‚Üí Expect different prompt** (not cached in browser)

---

## üß™ –¢–ï–°–¢–û–í–ï

### Test 1: Verify Current Version
```bash
# Check what's currently deployed
curl -s https://aidiet.radilov-k.workers.dev/api/admin/get-default-prompt?type=analysis | \
  jq -r '.prompt' | head -5

# Expected output (first 5 lines):
# –¢–∏ —Å–∏ –µ–∫—Å–ø–µ—Ä—Ç–µ–Ω –¥–∏–µ—Ç–æ–ª–æ–≥, –ø—Å–∏—Ö–æ–ª–æ–≥ –∏ –µ–Ω–¥–æ–∫—Ä–∏–Ω–æ–ª–æ–≥. –ù–∞–ø—Ä–∞–≤–∏ –•–û–õ–ò–°–¢–ò–ß–ï–ù –ê–ù–ê–õ–ò–ó –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞ –∏ –ò–ó–ß–ò–°–õ–ò –∫–∞–ª–æ—Ä–∏–∏—Ç–µ –∏ –º–∞–∫—Ä–æ—Å–∏—Ç–µ.
#
# ‚ïê‚ïê‚ïê –ö–õ–ò–ï–ù–¢–°–ö–ò –ü–†–û–§–ò–õ ‚ïê‚ïê‚ïê
# {userData} (will be replaced with full client JSON data including: name, age, gender, height, weight, goal...
```

### Test 2: Verify All Prompt Types
```bash
# Check all 6 prompt types
for type in analysis strategy meal_plan summary consultation modification; do
  echo "=== $type ==="
  curl -s "https://aidiet.radilov-k.workers.dev/api/admin/get-default-prompt?type=$type" | \
    jq -r '.prompt' | wc -l
done

# Expected output:
# === analysis ===
# 159
# === strategy ===
# 130
# === meal_plan ===
# 235
# === summary ===
# 29
# === consultation ===
# 14
# === modification ===
# 80
```

### Test 3: Simulate Update Flow
```bash
# 1. Before change
echo "BEFORE:"
curl -s https://aidiet.radilov-k.workers.dev/api/admin/get-default-prompt?type=analysis | \
  jq -r '.prompt' | head -1

# 2. Edit worker.js (manually add "TEST: " to line 4448)
# vim worker.js

# 3. Deploy
# wrangler deploy

# 4. After change (wait 30 seconds)
echo "AFTER:"
curl -s https://aidiet.radilov-k.workers.dev/api/admin/get-default-prompt?type=analysis | \
  jq -r '.prompt' | head -1

# Should see: "TEST: –¢–∏ —Å–∏ –µ–∫—Å–ø–µ—Ä—Ç–µ–Ω –¥–∏–µ—Ç–æ–ª–æ–≥..."
```

---

## üéì –ß–ï–°–¢–û –ó–ê–î–ê–í–ê–ù–ò –í–™–ü–†–û–°–ò (FAQ)

### Q1: –¢—Ä—è–±–≤–∞ –ª–∏ –¥–∞ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–º –Ω–µ—â–æ —Å–ª–µ–¥ deploy?
**A:** –ù–ï. Cloudflare –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–∞ –Ω–æ–≤–∞—Ç–∞ –≤–µ—Ä—Å–∏—è.

### Q2: –ö–æ–ª–∫–æ –≤—Ä–µ–º–µ –æ—Ç–Ω–µ–º–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è—Ç–∞?
**A:** 5-30 —Å–µ–∫—É–Ω–¥–∏ —Å–ª–µ–¥ –∑–∞–≤—ä—Ä—à–≤–∞–Ω–µ –Ω–∞ `wrangler deploy`.

### Q3: –©–µ –≤–∏–¥—è—Ç –ª–∏ –¥—Ä—É–≥–∏—Ç–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –ø—Ä–æ–º—è–Ω–∞—Ç–∞?
**A:** –î–ê, –≤—Å–∏—á–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –≤–∏–∂–¥–∞—Ç –Ω–æ–≤–∞—Ç–∞ –≤–µ—Ä—Å–∏—è –≤–µ–¥–Ω–∞–≥–∞ (—Å–ª–µ–¥ deploy).

### Q4: –ö–∞–∫–≤–æ —Å—Ç–∞–≤–∞ —Å custom –ø—Ä–æ–º–ø—Ç–∏—Ç–µ?
**A:** Custom –ø—Ä–æ–º–ø—Ç–∏—Ç–µ (–∑–∞–ø–∞–∑–µ–Ω–∏ –≤ KV) –æ—Å—Ç–∞–≤–∞—Ç –Ω–µ–ø–æ–∫—ä—Ç–Ω–∞—Ç–∏. Default –ø—Ä–æ–º–ø—Ç–∏—Ç–µ —Å–∞ fallback.

### Q5: –ú–æ–≥–∞ –ª–∏ –¥–∞ —Ç–µ—Å—Ç–≤–∞–º –ø—Ä–µ–¥–∏ deploy?
**A:** –î–ê, —Å `wrangler dev` –º–æ–∂–µ—Ç–µ –¥–∞ —Ç–µ—Å—Ç–≤–∞—Ç–µ –ª–æ–∫–∞–ª–Ω–æ –Ω–∞ http://localhost:8787.

### Q6: –ê–∫–æ –¥–æ–ø—É—Å–Ω–∞ –≥—Ä–µ—à–∫–∞ –≤ –ø—Ä–æ–º–ø—Ç–∞?
**A:** –ê–∫–æ JavaScript —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—ä—Ç –µ –≥—Ä–µ—à–µ–Ω, deploy —â–µ failed. –ê–∫–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—ä—Ç –µ OK, –Ω–æ –ª–æ–≥–∏–∫–∞—Ç–∞ –Ω–µ –µ –¥–æ–±—Ä–∞, –ø—Ä–æ—Å—Ç–æ deploy-–Ω–µ—Ç–µ –æ—Ç–Ω–æ–≤–æ —Å –∫–æ—Ä–µ–∫—Ç–Ω–∞—Ç–∞ –≤–µ—Ä—Å–∏—è.

### Q7: –ò–º–∞ –ª–∏ rollback mechanism?
**A:** –ú–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ `git revert` –Ω–∞ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ –∏ deploy-–Ω–µ—Ç–µ —Å—Ç–∞—Ä–∞—Ç–∞ –≤–µ—Ä—Å–∏—è.

### Q8: –ù—É–∂–Ω–∞ –ª–∏ –µ —Å–ø–µ—Ü–∏–∞–ª–Ω–∞ –ø—Ä–∞–≤–∞ –∑–∞ deploy?
**A:** –î–∞, –Ω—É–∂–Ω–∏ —Å–∞ Cloudflare credentials (`wrangler login`).

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### –°—ä–∑–¥–∞–¥–µ–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ:
1. **DEFAULT_PROMPT_UPDATE_BEHAVIOR.md** - –ü—ä–ª–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (English + Bulgarian)
2. **DEFAULT_PROMPT_UPDATE_VISUAL_BG.md** - –í–∏–∑—É–∞–ª–Ω–æ —Ä—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –¥–∏–∞–≥—Ä–∞–º–∏
3. **–ë–™–†–ó_–û–¢–ì–û–í–û–†_DEFAULT_PROMPTS.md** - –ë—ä—Ä–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏
4. **THIS FILE** - Comprehensive answer document

### –°—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ —Ñ–∞–π–ª–æ–≤–µ:
- `worker.js` (lines 4447-5048) - Default prompts definition
- `admin.html` (lines 2132-2153) - viewDefaultPrompt() function
- `DEPLOYMENT_CHECKLIST.md` - Full deployment guide
- `ADMIN_PROMPT_FIX_DOCUMENTATION.md` - Original fix documentation

---

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### –û—Å–Ω–æ–≤–µ–Ω –æ—Ç–≥–æ–≤–æ—Ä:
**–î–ê, –ø—Ä–æ–º–ø—Ç–æ–≤–µ—Ç–µ —Å–µ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–≤–∞–Ω–µ –Ω–∞ "viewDefaultPrompt" –±—É—Ç–æ–Ω–∞, –ù–û —Å–∞–º–æ —Å–ª–µ–¥ deploy –Ω–∞ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ –≤ worker.js —Å `wrangler deploy`.**

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∏:
1. Default –ø—Ä–æ–º–ø—Ç–∏—Ç–µ —Å–∞ hardcoded –≤ worker.js –∫–æ–¥ (lines 4447-5048)
2. –ü—Ä–∏ –∫–ª–∏–∫–≤–∞–Ω–µ –Ω–∞ "View Default Prompt", admin –ø–∞–Ω–µ–ª—ä—Ç –ø—Ä–∞–≤–∏ API –∑–∞—è–≤–∫–∞
3. Cloudflare Worker –∏–∑–ø—ä–ª–Ω—è–≤–∞ handleGetDefaultPrompt() —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞
4. –§—É–Ω–∫—Ü–∏—è—Ç–∞ –≤—Ä—ä—â–∞ —Ç–µ–∫—É—â–∏—Ç–µ prompts –æ—Ç defaultPrompts –æ–±–µ–∫—Ç
5. Admin –ø–∞–Ω–µ–ª—ä—Ç –ø–æ–∫–∞–∑–≤–∞ –ø—Ä–æ–º–ø—Ç–∞ –≤ textarea

### –ó–∞—â–æ —Ä–∞–±–æ—Ç–∏ —Ç–∞–∫–∞:
- Cloudflare Workers —Å–∞ stateless - –∏–∑–ø—ä–ª–Ω—è–≤–∞—Ç fresh code –ø—Ä–∏ –≤—Å—è–∫–∞ –∑–∞—è–≤–∫–∞
- –ù—è–º–∞ caching –Ω–∞ –ø—Ä–æ–º–ø—Ç–∏—Ç–µ - –¥–∏—Ä–µ–∫—Ç–µ–Ω –¥–æ—Å—Ç—ä–ø –≤ –ø–∞–º–µ—Ç—Ç–∞
- Deploy —Ä–∞–∑–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–≤–∞ –Ω–æ–≤–∏—è –∫–æ–¥ –≤ —Ü–µ–ª–∏—è Edge Network
- –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è—Ç–∞ –µ instant (—Å–ª–µ–¥ deploy –∑–∞–≤—ä—Ä—à–µ–Ω–µ)

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Å—ä–≤–µ—Ç–∏:
- –í–∏–Ω–∞–≥–∏ –ø—Ä–∞–≤–µ—Ç–µ `node --check worker.js` –ø—Ä–µ–¥–∏ deploy
- –¢–µ—Å—Ç–≤–∞–π—Ç–µ –ª–æ–∫–∞–ª–Ω–æ —Å `wrangler dev` –∞–∫–æ –∏–º–∞—Ç–µ —Å—ä–º–Ω–µ–Ω–∏—è
- Deploy –æ—Ç–Ω–µ–º–∞ ~30 —Å–µ–∫—É–Ω–¥–∏ + 5-30 —Å–µ–∫—É–Ω–¥–∏ –∑–∞ —Ä–∞–∑–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ
- –ù–µ –µ –Ω—É–∂–Ω–æ cache clearing –∏–ª–∏ restart
- –í—Å–∏—á–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –≤–∏–∂–¥–∞—Ç –ø—Ä–æ–º—è–Ω–∞—Ç–∞ –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–∞–Ω–æ –∏ —Ç–µ—Å—Ç–≤–∞–Ω–æ  
**–î–∞—Ç–∞:** 2026-02-05  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–ê–≤—Ç–æ—Ä:** GitHub Copilot (with Radilovk)
