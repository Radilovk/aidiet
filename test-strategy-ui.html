<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Strategy UI</title>
    <script>
        // Create mock data with strategy information
        const mockDietPlan = {
            weekPlan: {
                day1: {
                    meals: [
                        {
                            type: "Закуска",
                            time: "08:00",
                            name: "Овесена каша с горски плодове",
                            weight: "250 гр.",
                            description: "Богата на фибри. Бавните въглехидрати осигуряват енергия за целия ден.",
                            benefit: "Подобрява храносмилането и контролира кръвната захар."
                        }
                    ],
                    macros: {
                        calories: 1800,
                        protein: 120,
                        carbs: 180,
                        fat: 60
                    }
                }
            },
            recommendations: [
                "Яжте повече зеленчуци и плодове",
                "Пийте достатъчно вода - минимум 2 литра дневно",
                "Избягвайте преработени храни"
            ],
            forbidden: [
                "Захар и сладкиши",
                "Преработено месо",
                "Газирани напитки"
            ],
            psychology: [
                "Хранете се на спокойно място без разсейване",
                "Дъвчете бавно и наслаждавайте се на храната",
                "Не пропускайте хранения"
            ],
            supplements: [
                {
                    name: "Витамин D3",
                    dosage: "2000 IU",
                    intake: "Сутрин с храна"
                }
            ],
            strategy: {
                dietaryModifier: "Средиземноморско",
                modifierReasoning: "Балансиран подход за отслабване с качествени мазнини от зехтин и риба, подходящ за управление на стрес. Богат на антиоксиданти и противовъзпалителни вещества.",
                dietType: "средиземноморска",
                keyPrinciples: [
                    "Акцент върху зехтин като основна мазнина",
                    "Редовна консумация на риба (2-3 пъти седмично)",
                    "Обилие от пресни зеленчуци и плодове",
                    "Ограничена консумация на червено месо",
                    "Умерена консумация на пълнозърнести храни"
                ],
                foodsToInclude: [
                    "Екстра зехтин",
                    "Риба (сьомга, сардини, скумрия)",
                    "Пресни зеленчуци (домати, краставици)",
                    "Гръцко кисело мляко",
                    "Ядки и семена",
                    "Бобови растения"
                ],
                foodsToAvoid: [
                    "Преработени храни",
                    "Рафинирана захар",
                    "Бяло брашно",
                    "Индустриални сосове",
                    "Газирани напитки"
                ]
            }
        };

        const mockUserData = {
            name: "Тест Потребител"
        };

        // Store in localStorage before loading plan.html
        localStorage.setItem('dietPlan', JSON.stringify(mockDietPlan));
        localStorage.setItem('userData', JSON.stringify(mockUserData));
        localStorage.setItem('userId', 'test-user-123');
        
        // Redirect to plan.html after 1 second
        setTimeout(() => {
            window.location.href = 'plan.html';
        }, 1000);
    </script>
</head>
<body>
    <div style="text-align: center; padding: 40px; font-family: Arial, sans-serif;">
        <h2>Зареждане на тестови данни...</h2>
        <p>Ще бъдете пренасочени към плана след зареждане на данните.</p>
        <div style="margin-top: 20px;">
            <div style="display: inline-block; width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid #10b981; border-radius: 50%; animation: spin 1s linear infinite;"></div>
        </div>
        <style>
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        </style>
    </div>
</body>
</html>
