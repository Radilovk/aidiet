# –ê–Ω–∞–ª–∏–∑: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏ Cron –°—ä–±–∏—Ç–∏—è

## –ó–∞—è–≤–∫–∞
**"–ù–µ –∏—Å–∫–∞–º –¥–∞ –∏–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏ cron —Å—ä–±–∏—Ç–∏—è, –∑–∞ –¥–∞ —Å–µ –Ω–∞–º–∞–ª–∏ –Ω–∞—Ç–æ–≤–∞—Ä–≤–∞–Ω–µ—Ç–æ —Å—ä—Å –∑–∞—è–≤–∫–∏ –∫—ä–º –±–µ–∫–µ–Ω–¥–∞. –¢—ä—Ä—Å–∏–º –º–∏–Ω–∏–º—É–º –∑–∞—è–≤–∫–∏ –∏ —Ç–æ–≤–∞—Ä –Ω–∞ –±–µ–∫–µ–Ω–¥–∞."**

## ‚úÖ –†–µ–∑—É–ª—Ç–∞—Ç: –ü—Ä–æ–µ–∫—Ç—ä—Ç –í–ï–ß–ï –ï –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω –ü—Ä–∞–≤–∏–ª–Ω–æ

### –ü—Ä–æ–≤–µ–¥–µ–Ω –ê–Ω–∞–ª–∏–∑

–ü—Ä–æ–≤–µ—Ä–µ–Ω–∏ —Å–∞ –≤—Å–∏—á–∫–∏ –≤—ä–∑–º–æ–∂–Ω–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏ –∑–∞—è–≤–∫–∏:

#### 1. **Cloudflare Workers Scheduled Events** ‚úÖ
- **–§–∞–π–ª:** `wrangler.toml`
- **–ù–∞–º–µ—Ä–µ–Ω–æ:** –ù–Ø–ú–ê —Å–µ–∫—Ü–∏—è `[triggers]`
- **–ù–∞–º–µ—Ä–µ–Ω–æ:** –ù–Ø–ú–ê scheduled events
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù—è–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏ cron –∑–∞–¥–∞—á–∏

#### 2. **Service Worker Periodic Sync** ‚úÖ
- **–§–∞–π–ª:** `sw.js`
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∑–∞:** `periodicSync`, `backgroundSync`
- **–ù–∞–º–µ—Ä–µ–Ω–æ:** –ù–Ø–ú–ê periodic sync
- **–ù–∞–º–µ—Ä–µ–Ω–æ:** –ù–Ø–ú–ê background sync
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–∞–º–æ caching —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏ –∑–∞—è–≤–∫–∏

#### 3. **Frontend Polling (setInterval)** ‚úÖ
- **–§–∞–π–ª–æ–≤–µ:** admin.html, index.html, plan.html, profile.html, questionnaire.html
- **–ù–∞–º–µ—Ä–µ–Ω–∏ setInterval:** –°–∞–º–æ 2 –º–µ—Å—Ç–∞
  - `questionnaire.html:1613` - –†–æ—Ç–∞—Ü–∏—è –Ω–∞ —Å—ä–≤–µ—Ç–∏ (8 —Å–µ–∫—É–Ω–¥–∏) - **–ë–ï–ó backend –∑–∞—è–≤–∫–∏**
  - `questionnaire.html:1759` - –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å –±–∞—Ä (100ms) - **–ë–ï–ó backend –∑–∞—è–≤–∫–∏**
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù—è–º–∞ polling –∫—ä–º backend

#### 4. **Auto-Refresh –º–µ—Ö–∞–Ω–∏–∑–º–∏** ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** Admin dashboard, statistics panels
- **–ù–∞–º–µ—Ä–µ–Ω–æ:** –ù–Ø–ú–ê –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—Ä–µ—Å–Ω—è–≤–∞–Ω–µ
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–∏—á–∫–∏ –¥–∞–Ω–Ω–∏ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è

#### 5. **WebSocket –∏–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–∏ –≤—Ä—ä–∑–∫–∏** ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –í—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ
- **–ù–∞–º–µ—Ä–µ–Ω–æ:** –ù–Ø–ú–ê WebSocket
- **–ù–∞–º–µ—Ä–µ–Ω–æ:** –ù–Ø–ú–ê Server-Sent Events
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù—è–º–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–∏ –≤—Ä—ä–∑–∫–∏

### –û—Ç–∫—Ä–∏—Ç–∏ Event-Driven –ú–µ—Ö–∞–Ω–∏–∑–º–∏

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–∞ **–±–∞–∑–∏—Ä–∞–Ω–∏ –Ω–∞ —Å—ä–±–∏—Ç–∏—è**, –ù–ï –Ω–∞ –≤—Ä–µ–º–µ:

#### 1. **Offline Queue Processing (plan.html)**
```javascript
// Lines 2117, 2120-2125
window.addEventListener('online', handleOnline);

function handleOnline() {
    isOnline = true;
    processOfflineQueue(); // –ò–∑–ø—Ä–∞—â–∞ –∑–∞–ø–∞–∑–µ–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è
}
```
- **–¢—Ä–∏–≥–µ—Ä:** –°–∞–º–æ –∫–æ–≥–∞—Ç–æ –≤—Ä—ä–∑–∫–∞—Ç–∞ —Å–µ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤–∏ (—Å—ä–±–∏—Ç–∏–µ `online`)
- **–ù–ï –µ time-based:** –ù–µ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** 500ms –∑–∞–±–∞–≤—è–Ω–µ –º–µ–∂–¥—É —Å—ä–æ–±—â–µ–Ω–∏—è, –∑–∞ –¥–∞ –Ω–µ –ø—Ä–µ—Ç–æ–≤–∞—Ä–∏ backend
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ñ–µ–ª–∞–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

#### 2. **Push Notifications**
```javascript
// index.html - Subscription
subscribeToPushNotifications();
```
- **–ú–µ—Ö–∞–Ω–∏–∑—ä–º:** Server PUSH –∫—ä–º –∫–ª–∏–µ–Ω—Ç
- **–ö–ª–∏–µ–Ω—Ç—ä—Ç:** –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞ —Å–µ –≤–µ–¥–Ω—ä–∂
- **–°—ä—Ä–≤—ä—Ä—ä—Ç:** –ò–∑–ø—Ä–∞—â–∞ –∏–∑–≤–µ—Å—Ç–∏—è –∫–æ–≥–∞—Ç–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù—è–º–∞ polling –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ –ó–∞—è–≤–∫–∏—Ç–µ

**–í—Å–∏—á–∫–∏ API –∑–∞—è–≤–∫–∏ —Å–∞:**
1. ‚úÖ **–ò–Ω–∏—Ü–∏–∏—Ä–∞–Ω–∏ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è** (–∫–ª–∏–∫–æ–≤–µ, —Ñ–æ—Ä–º—É–ª—è—Ä–∏)
2. ‚úÖ **Event-driven** (–≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ –Ω–∞ –≤—Ä—ä–∑–∫–∞)
3. ‚úÖ **–ù–ï —Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏** (–Ω—è–º–∞ cron, –Ω—è–º–∞ timers)
4. ‚úÖ **–ù–ï —Å–∞ periodic** (–Ω—è–º–∞ setInterval –∫—ä–º backend)

### Cloudflare Workers Configuration

**wrangler.toml:**
```toml
name = "aidiet-worker"
main = "worker.js"
compatibility_date = "2024-01-01"

[[kv_namespaces]]
binding = "page_content"
id = "81fc0991b2764918b682f9ca170abd4b"

[env.production]
name = "aidiet-worker"
route = "aidiet.radilov-k.workers.dev/*"
```

- ‚úÖ **–ù–Ø–ú–ê** —Å–µ–∫—Ü–∏—è `[triggers]`
- ‚úÖ **–ù–Ø–ú–ê** `crons = []`
- ‚úÖ **–ù–Ø–ú–ê** scheduled events

### –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

## ‚úÖ –ü–†–û–ï–ö–¢–™–¢ –ï –ö–û–ù–§–ò–ì–£–†–ò–†–ê–ù –û–ü–¢–ò–ú–ê–õ–ù–û

**–ù–∞—Å—Ç–æ—è—â–∞—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- ‚úÖ **0 –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏ cron —Å—ä–±–∏—Ç–∏—è**
- ‚úÖ **0 periodic polling –æ–ø–µ—Ä–∞—Ü–∏–∏**
- ‚úÖ **0 scheduled tasks**
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª–Ω–∏ –∑–∞—è–≤–∫–∏ –∫—ä–º backend**
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª–Ω–æ –Ω–∞—Ç–æ–≤–∞—Ä–≤–∞–Ω–µ**

**–í—Å–∏—á–∫–∏ –∑–∞—è–≤–∫–∏ —Å–∞:**
- –ò–Ω–∏—Ü–∏–∏—Ä–∞–Ω–∏ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è
- Event-driven (–Ω–µ time-based)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–∏ —Å delays –∑–∞ –∏–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ –ø—Ä–µ—Ç–æ–≤–∞—Ä–≤–∞–Ω–µ

## üéØ –ù–ï –°–ê –ù–ï–û–ë–•–û–î–ò–ú–ò –ü–†–û–ú–ï–ù–ò

–ü—Ä–æ–µ–∫—Ç—ä—Ç **–≤–µ—á–µ —Ä–∞–±–æ—Ç–∏ —Ç–æ—á–Ω–æ –∫–∞–∫—Ç–æ –µ –ø–æ–∏—Å–∫–∞–Ω–æ**:
- –ù—è–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏ cron —Å—ä–±–∏—Ç–∏—è
- –ú–∏–Ω–∏–º–∞–ª–Ω–∏ –∑–∞—è–≤–∫–∏ –∫—ä–º –±–µ–∫–µ–Ω–¥–∞
- –ú–∏–Ω–∏–º–∞–ª–Ω–æ –Ω–∞—Ç–æ–≤–∞—Ä–≤–∞–Ω–µ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞
- –í—Å–∏—á–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª-–∏–Ω–∏—Ü–∏–∏—Ä–∞–Ω–∏ –∏–ª–∏ event-driven

---

**–î–∞—Ç–∞ –Ω–∞ –∞–Ω–∞–ª–∏–∑:** 2026-02-04  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Verified - No automated cron events found  
**–ü—Ä–µ–ø–æ—Ä—ä–∫–∞:** –ë–µ–∑ –ø—Ä–æ–º–µ–Ω–∏ - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞ –µ –æ–ø—Ç–∏–º–∞–ª–Ω–∞
